
# Este archivo ha sido generado automáticamente por i3-config-wizard(1).
# No se sobrescribirá, así que edítalo como desees.
#
# Si cambias tu distribución de teclado en algún momento, elimina
# este archivo y vuelve a ejecutar i3-config-wizard(1).
#

# Archivo de configuración de i3 (v4)
#
# Por favor revisa https://i3wm.org/docs/userguide.html para referencia completa.

set $mod Mod4

# Fuente para los títulos de las ventanas. También se usará en la barra
# a menos que se use otra fuente en el bloque bar {} más abajo.
font pango:monospace 8

# Esta fuente está ampliamente instalada, provee muchos glifos unicode,
# renderiza texto de derecha a izquierda y es escalable en pantallas retina/hidpi (gracias a pango).
#font pango:DejaVu Sans Mono 8

# Iniciar archivos .desktop de XDG autostart usando dex. Ver también:
# https://wiki.archlinux.org/index.php/XDG_Autostart
exec --no-startup-id dex --autostart --environment i3

# La combinación de xss-lock, nm-applet y pactl es una elección popular,
# así que se incluyen aquí como ejemplo. Modifícalo según tus necesidades.

# xss-lock captura un bloqueo de suspensión de logind y usará i3lock
# para bloquear la pantalla antes de suspender. Usa loginctl lock-session
# para bloquear tu pantalla manualmente.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# NetworkManager es la forma más popular de manejar redes inalámbricas en Linux,
# y nm-applet es una GUI de bandeja de sistema independiente del entorno de escritorio.
exec --no-startup-id nm-applet

# Usar pactl para ajustar el volumen en PulseAudio.
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status
bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous


# Usar Mouse+$mod para arrastrar ventanas flotantes a la posición deseada
floating_modifier $mod

# Mover ventanas en mosaico arrastrando con click izquierdo
# en la barra de título, o haciendo click en cualquier parte de la ventana
# mientras se mantiene presionado el modificador flotante.
tiling_drag modifier titlebar

# Iniciar un terminal
bindsym $mod+Return exec i3-sensible-terminal

# Cerrar ventana enfocada
bindsym $mod+q kill

# Iniciar dmenu (un lanzador de aplicaciones)
bindsym $mod+d exec --no-startup-id dmenu_run

# Cambiar foco entre ventanas
bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+l focus up
bindsym $mod+ntilde focus right

# Alternativamente, puedes usar las teclas de flecha:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Mover la ventana enfocada
bindsym $mod+Shift+j move left
bindsym $mod+Shift+k move down
bindsym $mod+Shift+l move up
bindsym $mod+Shift+ntilde move right

# Alternativamente, puedes usar las teclas de flecha:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Dividir en orientación horizontal
bindsym $mod+h split h

# Dividir en orientación vertical
bindsym $mod+v split v

# Entrar en modo pantalla completa para el contenedor enfocado
bindsym $mod+f fullscreen toggle

# Cambiar el layout del contenedor (apilado, con pestañas, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Alternar entre mosaico y flotante
bindsym $mod+Shift+space floating toggle

# Cambiar foco entre ventanas en mosaico / flotantes
bindsym $mod+space focus mode_toggle

# Foco al contenedor padre
bindsym $mod+a focus parent

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# Cambiar a workspace
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

# Mover contenedor enfocado a workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# Recargar archivo de configuración
bindsym $mod+Shift+c reload
# Reiniciar i3 in-place (preserva layout/session, útil para actualizar i3)
bindsym $mod+Shift+r restart
# Salir de i3 (cerrar sesión X)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Presionaste la tecla de salida. ¿Realmente quieres salir de i3? Esto terminará tu sesión X.' -B 'Sí, salir de i3' 'i3-msg exit'"

# Redimensionar ventana (también se puede hacer con el ratón)
mode "resize" {
        # Estos atajos se activan al entrar en modo resize

        # Presionar izquierda reducirá el ancho de la ventana.
        # Presionar derecha aumentará el ancho de la ventana.
        # Presionar arriba reducirá la altura de la ventana.
        # Presionar abajo aumentará la altura de la ventana.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym ntilde resize grow width 10 px or 10 ppt

        # Los mismos atajos, pero con las flechas
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # Volver a modo normal: Enter o Escape o $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

# =========================
# Personalizacion
# =========================
default_border pixel 0
gaps outer 0
gaps inner 6


# =========================
# Scripts
# =========================

# Ejecutar lemonbar, matando instancia anterior para evitar duplicados
exec_always --no-startup-id sh -c 'pkill -f ~/.config/lemonbar/bar.sh; sleep 0.2; ~/.config/lemonbar/bar.sh &'

# Establecer fondo de pantalla
exec --no-startup-id feh --bg-scale ~/.config/fondo.jpeg

# Ejecutar script de estado de batería
exec --no-startup-id ~/.config/scripts/estado_bateria.sh

# Ejecutar notificaciones
exec --no-startup-id dunst &

# Subir brillo con tecla de función
bindsym XF86MonBrightnessUp exec --no-startup-id ~/.config/scripts/brillo.sh up 

# Bajar brillo con tecla de función
bindsym XF86MonBrightnessDown exec --no-startup-id ~/.config/scripts/brillo.sh down


# =========================
# combinacion de teclas
# =========================

# Apagar la pc
bindsym $mod+Shift+p exec --no-startup-id systemctl poweroff

# Ejecutar flameshot
bindsym Print exec --no-startup-id flameshot gui

# Ejecutar diodon
bindsym $mod+Shift+v exec --no-startup-id diodon &

# Ejecutar chromium
bindsym $mod+n exec --no-startup-id chromium




